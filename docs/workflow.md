# TwinCAT PLC 개발 워크플로우 개선안

## 문서 정보
| 항목 | 내용 |
|------|------|
| 버전 | 1.0 |
| 작성일 | 2025-11-27 |
| 대상 독자 | 개발자, 관리자, 의사결정권자 (100명+) |
| 목적 | 현실적이고 점진적인 워크플로우 개선 |

---

## 1. 현재 상황 진단

### 1.1 현재 워크플로우 요약

**기본 흐름 (Base Flow)**
```
SCR → WISE → SW DEVELOP → MERGED → SW RESOLVED → SW RESOLVED 승인 → SCR 완료
```

### 1.2 전체 워크플로우 흐름도

```
                                 시작
                                   │
                                   ▼
                                  SCR
                                   │
                                   ▼
       기각 (종료) ◀───────────  WISE  ───────────▶ LEADER APPROVE
                                   │                      │
                                   │               ┌──────┴──────┐
                                   │               ▼             ▼
                                   │          기각 (종료)      승인
                                   │                             │
                                   ◀─────────────────────────────┘
                                   │
                                   ▼
  SCR 미적용 (종료) ◀───────  SW DEVELOP  ◀────────────────────────────────────┐
                                   │                                           │
                                   ▼                                           │
  SCR 미적용 (종료) ◀─────────  MERGED                                         │
                                   │                                           │
                    ┌──────────────┼──────────────┐                            │
                    ▼              │              ▼                            │
                설비 검증           │          SW RESOLVED                      │
                    │              │              │                            │
                    │              │       ┌──────┼──────┐                     │
                    │              │       ▼      │      ▼                     │
                    │              │ SCR 미적용    │  SW RESOLVED 승인          │
                    │              │   (종료)      │      │                     │
                    ▼              │              │      ▼                     │
                SW RESOLVED        │              │  SCR 완료 (종료)           │
                    │              │              │                            │
             ┌──────┼──────┐       │              │                            │
             ▼      │      ▼       │              │                            │
       SCR 미적용    │  SW RESOLVED │              │                            │
         (종료)      │    승인      │              │                            │
                    │      │       │              │                            │
                    │      ▼       │              │                            │
                    │  SCR 완료 (종료)             │                            │
                    │              │              │                            │
                    └──────────────┴──────┬───────┘                            │
                                          ▼                                    │
                                      SQA TEST  ◀──────────────────────┐       │
                                          │                            │       │
                                   ┌──────┴──────┐                     │       │
                                   ▼             ▼                     │       │
                               TEST PASS    TEST 결과 검토              │       │
                                   │             │                     │       │
                                   │        ┌────┴────┐                │       │
                                   │        ▼         ▼                │       │
                                   │      NG시     재테스트   ───────────┘       │
                                   │        │                                  │
                                   │        └──────────────────────────────────┘
                                   ▼
                             SCR 완료 (종료)
```

### 1.3 단계별 분기 정리

| 현재 단계 | 다음 가능 단계 |
|----------|---------------|
| SCR | WISE |
| WISE | SW DEVELOP, LEADER APPROVE, 기각 (종료) |
| LEADER APPROVE | SW DEVELOP, 기각 (종료) |
| SW DEVELOP | MERGED, SCR 미적용 (종료) |
| MERGED | 설비 검증, SQA TEST, SW RESOLVED, SCR 미적용 (종료) |
| 설비 검증 | SW RESOLVED, SW DEVELOP, SCR 미적용 (종료) |
| 설비 검증 후 SW RESOLVED | SQA TEST, SW RESOLVED 승인, SW DEVELOP, SCR 미적용 (종료) |
| SW RESOLVED | SQA TEST, SW RESOLVED 승인, SCR 미적용 (종료) |
| SQA TEST | TEST PASS, TEST 결과 검토 |
| TEST 결과 검토 | SW DEVELOP (NG시 재개발), SQA TEST (재테스트) |
| TEST PASS | SCR 완료 |
| SW RESOLVED 승인 | SCR 완료 |

### 1.4 종료 상태 (되돌릴 수 없음)

| 종료 상태 | 의미 |
|----------|------|
| 기각 | 승인 거부 |
| SCR 미적용 | 개발 취소 |
| SCR 완료 | 정상 완료 (배포) |

### 1.5 주요 경로 설명

| 경로 | 설명 |
|------|------|
| **기본 경로** | SCR → WISE → SW DEVELOP → MERGED → SW RESOLVED → SW RESOLVED 승인 → SCR 완료 |
| **설비 검증 경로** | MERGED → 설비 검증 → SW RESOLVED → SQA TEST/SW RESOLVED 승인 |
| **SQA TEST 경로** | MERGED/SW RESOLVED → SQA TEST → TEST PASS → SCR 완료 |
| **TEST NG 경로** | TEST 결과 검토 → SW DEVELOP (재개발) |
| **재테스트 경로** | TEST 결과 검토 → SQA TEST |

### 1.6 현재 워크플로우의 실제 문제점 (현장 기준)

| 문제 | 발생 빈도 | 실제 영향 | 현장 체감도 |
|------|----------|----------|------------|
| 긴급 수정 시 SCR 우회 | 월 5-10건 | 추적 불가, 충돌 위험 | ★★★★★ |
| WISE 회의 대기 | 매 건마다 1-3일 | 일정 지연 | ★★★★☆ |
| 설비 접근 제한 | 주중 상시 | 야간/주말 작업 | ★★★★★ |
| 수동 테스트 반복 | 평균 1.5회/건 | 시간 낭비 | ★★★☆☆ |
| 문서-코드 불일치 | 프로젝트 50% | 유지보수 어려움 | ★★☆☆☆ |

### 1.7 숨겨진 비용 (연간 추정)

```
현재 숨겨진 비용:
├─ 긴급 대응 야근/주말 근무: 약 ₩30,000,000
├─ 테스트 반복 인건비: 약 ₩25,000,000
├─ 프로덕션 버그 대응: 약 ₩40,000,000
├─ 커뮤니케이션 오버헤드: 약 ₩15,000,000
└─ 총계: 약 ₩110,000,000/년
```

> **핵심**: 현재도 이미 비용이 발생하고 있음. 개선은 "추가 비용"이 아닌 "비용 재배치"

---

## 2. 이상적 vs 현실적 접근 비교

### 2.1 이상적 접근의 문제점

| 이상적 제안 | 왜 현실에서 안 되는가 |
|------------|---------------------|
| DevOps 전담 1명 채용 | 채용에 3-6개월, 연봉 ₩60M+, 퇴사 리스크 |
| CI/CD 완전 자동화 | TwinCAT CLI 제한, 라이센스 비용, 학습곡선 |
| 스테이징 서버 구축 | 예산 승인 어려움, 설비와 100% 동일 불가 |
| 카나리/블루그린 배포 | PLC는 실시간 제어 → Hot swap 불가능 |
| ₩200M 초기 투자 | 경영진 설득 현실적으로 불가능 |

### 2.2 현실적 접근 원칙

```
원칙 1: 기존 인력으로 시작 (추가 채용 없이)
원칙 2: 무료 도구 우선 (유료는 효과 증명 후)
원칙 3: 작은 성공부터 (파일럿 → 확대)
원칙 4: 프로세스 먼저, 도구 나중 (도구가 문화를 바꾸지 않음)
원칙 5: 측정 가능한 목표 (감이 아닌 데이터)
```

---

## 3. 제안 워크플로우: 3단계 점진적 개선

### 3.1 개선 로드맵 개요

```
[Phase 0] 즉시 적용 (0원, 1주)
    ↓
[Phase 1] 프로세스 개선 (₩0-5M, 1-2개월)
    ↓
[Phase 2] 기본 자동화 (₩5-15M, 3-6개월)
    ↓
[Phase 3] 고급 자동화 (₩15-50M, 6-12개월)
```

---

## Phase 0: 즉시 적용 가능한 개선 (비용 ₩0)

### 0.1 긴급 경로 공식화 (Fast Track)

**현재**: SCR 비적용 (비공식, 추적 불가)

**개선**: Fast Track 프로세스 신설

```yaml
Fast Track 조건:
  - 프로덕션 장애 복구
  - 보안 취약점 긴급 패치
  - 고객 크리티컬 이슈
  - 리더 승인 필수 (구두 OK, 사후 문서화)

Fast Track 프로세스:
  1. 리더 구두 승인 (전화/메신저 OK)
  2. 개발 착수 (즉시)
  3. 48시간 내 간소화 SCR 작성
  4. 주간 회의에서 사후 보고

추적 방법:
  - 엑셀 또는 기존 시스템에 "Fast Track" 태그
  - 월간 Fast Track 건수 집계 (남용 방지)
```

**효과**: 긴급 대응 24시간 → 4시간

### 0.2 변경 분류 체계 (기존 적용 중)

현재 워크플로우에는 이미 **변경 분류 체계가 체계적으로 분리**되어 있습니다:

```yaml
Level 1 (사내검증 생략 경로):
  경로: SW DEVELOP → MERGED → SW RESOLVED
  특징: 사내검증 없이 직접 SW RESOLVED로 진행
  조건:
    - 1개 파일 이하, 기존 로직 수정만
    - 영향 범위가 명확하고 제한적
    - 기존 검증된 패턴의 변경
  승인: 팀 리더 1인 (WISE 생략 가능)
  테스트: 개발자 자체 테스트
  예시: 파라미터 값 변경, 타이머 조정, 단순 버그 수정

Level 2/3 (사내검증 필수 경로):
  경로: SW DEVELOP → MERGED → 사내검증 → SW RESOLVED
  특징: 사내 및 고객사 검증을 통합하여 진행
  조건:
    - Level 2: 2-10개 파일, 신규 기능 소규모
    - Level 3: 아키텍처 변경, 다수 파일, 중대 변경
  승인:
    - Level 2: WISE 검토 (비동기 가능)
    - Level 3: WISE + LEADER 정식 회의
  테스트:
    - Level 2: 설비 검증 또는 SQA 선택
    - Level 3: 전체 검증 필수 (설비 + SQA)
  예시:
    - Level 2: 새 Function Block 추가, 알람 로직 변경
    - Level 3: 새 설비 제어 추가, 통신 프로토콜 변경
```

**분류 체계 흐름도:**
```
                      SW DEVELOP
                           │
                           ▼
                        MERGED
                           │
              ┌────────────┴────────────┐
              ▼                         ▼
         [Level 1]               [Level 2/3]
      사내검증 생략              사내검증 필수
              │                         │
              │                         ▼
              │                    사내검증
              │                    (설비/SQA)
              │                         │
              └──────────┬──────────────┘
                         ▼
                    SW RESOLVED
```

**장점**: 변경의 리스크 수준에 따라 검증 단계를 차등 적용하여 효율성 확보

### 0.3 WISE 비동기 검토 허용

**현재**: 주 1-2회 정기 회의 → 대기 시간 발생

**개선**:
```yaml
비동기 검토 조건:
  - Level 2 이하 변경
  - 명확한 체크리스트 충족
  - 이해관계자 동의 (이메일/메신저)

비동기 검토 방법:
  - 이메일/Teams로 SCR 문서 공유
  - 24시간 내 검토 및 승인/반려
  - 이의 없으면 자동 승인
  - 이의 있으면 정기 회의로 이관

체크리스트 (5분 내 검토 가능):
  ☐ 변경 범위 명확
  ☐ 영향도 분석 완료
  ☐ 테스트 계획 수립
  ☐ 롤백 가능
  ☐ 보안 영향 없음
```

**효과**: WISE 대기 시간 2-3일 → 1일 이내

---

## Phase 1: 프로세스 개선 (₩0-5M, 1-2개월)

### 1.1 Git 브랜치 전략 표준화

**현재 상태 추정**: Git 사용하지만 전략 불명확

**개선안**:
```
main (프로덕션)
  ├─ release/v1.x (릴리스 준비)
  │   └─ feature/SCR-123-기능명 (기능 개발)
  │   └─ hotfix/SCR-456-긴급수정 (긴급 수정)
  └─ develop (개발 통합)
```

**브랜치 규칙**:
```yaml
feature 브랜치:
  - naming: feature/SCR-{번호}-{간략설명}
  - 생성: develop에서 분기
  - 병합: develop으로 PR
  - 삭제: 병합 후 자동 삭제

hotfix 브랜치:
  - naming: hotfix/SCR-{번호}-{간략설명}
  - 생성: main에서 분기
  - 병합: main + develop 동시
  - 즉시 태깅: v1.2.1 형태

release 브랜치:
  - naming: release/v{major}.{minor}
  - 목적: 배포 전 안정화
  - 버그 수정만 허용
```

**필요 도구**: Git (이미 사용 중 추정) - ₩0

### 1.2 코드 리뷰 프로세스 도입

**현재**: 코드 리뷰 불명확

**개선안**:
```yaml
리뷰 규칙:
  Level 1 변경: 선택적 리뷰 (자기 검토)
  Level 2 변경: 동료 1인 리뷰 필수
  Level 3 변경: 시니어 + 동료 리뷰 필수

리뷰 체크리스트:
  ☐ 코드 스타일 준수 (명명규칙, 주석)
  ☐ 안전 로직 포함 여부
  ☐ 예외 처리 적절
  ☐ 기존 기능 영향 없음
  ☐ 테스트 시나리오 작성

리뷰 도구:
  - Azure DevOps PR (무료 티어) 또는
  - GitHub PR (무료) 또는
  - 간단히: 이메일 + diff 파일 공유
```

**필요 도구**: Azure DevOps/GitHub 무료 티어 - ₩0

### 1.3 테스트 시나리오 표준화

**현재**: 수동 테스트, 재현성 낮음

**개선안**:
```yaml
테스트 시나리오 템플릿:
  ┌─────────────────────────────────────────────┐
  │ SCR 번호: SCR-123                            │
  │ 테스트 일자: 2025-01-15                      │
  │ 테스터: 홍길동                               │
  ├─────────────────────────────────────────────┤
  │ 사전 조건:                                   │
  │   - 설비 상태: Idle                          │
  │   - 모드: 자동                               │
  │   - 연결: EtherCAT 정상                      │
  ├─────────────────────────────────────────────┤
  │ 테스트 단계:                                 │
  │   1. 시작 버튼 누름                          │
  │      예상: 모터 가속 시작                    │
  │      결과: ☐ Pass ☐ Fail                   │
  │   2. 목표 속도 100rpm 도달                   │
  │      예상: 30초 내 도달                      │
  │      결과: ☐ Pass ☐ Fail                   │
  │   3. 비상 정지 테스트                        │
  │      예상: 즉시 정지                         │
  │      결과: ☐ Pass ☐ Fail                   │
  ├─────────────────────────────────────────────┤
  │ 종합 결과: ☐ Pass ☐ Fail (재테스트 필요)   │
  │ 비고:                                        │
  └─────────────────────────────────────────────┘
```

**효과**: 테스트 재현성 향상, 인수인계 용이

### 1.4 설비 검증 + SQA 병렬화 (프로세스만)

**현재**: 설비 검증 → SQA TEST 순차 (5-8일)

**개선안**:
```
기존 (순차):
  설비 검증 (3일) → SQA TEST (4일) = 7일

개선 (병렬):
  ┌─ 설비 검증 (3일) ─┐
  │                    ├→ 통합 게이트 (0.5일) → 배포
  └─ SQA TEST (4일) ──┘
  = 4.5일 (36% 단축)
```

**병렬화 조건**:
```yaml
병렬 가능 조건:
  - 설비 검증과 SQA가 독립적으로 실행 가능
  - 별도 테스트 환경 (시뮬레이터 또는 다른 설비)
  - 테스트 시나리오 사전 작성 완료

병렬 불가 조건:
  - SQA가 설비 검증 결과에 의존
  - 동일 설비만 사용 가능
  - Level 3 변경 (순차 필수)

통합 게이트:
  - 두 검증 모두 Pass → 배포 승인
  - 하나라도 Fail → 해당 영역 재검증
  - 관련 영역만 재검증 (전체 아님)
```

---

## Phase 2: 기본 자동화 (₩5-15M, 3-6개월)

### 2.1 자동 빌드 시스템

**목표**: 코드 커밋 시 자동 빌드 및 결과 알림

**구성**:
```yaml
인프라:
  - 빌드 서버: 기존 개발 PC 활용 (야간 사용)
  - 또는: Azure VM (Standard_D4s_v3) 월 ₩250,000

소프트웨어:
  - Azure DevOps (무료 티어 1,800분/월)
  - TwinCAT XAE Shell (기존 라이센스)
  - PowerShell 스크립트 (자체 개발)

파이프라인:
  1. Git push 감지
  2. TwinCAT 프로젝트 빌드 (msbuild)
  3. 빌드 결과 알림 (이메일/Teams)
  4. 아티팩트 저장 (버전별)
```

**TwinCAT 빌드 스크립트 예시**:
```powershell
# build-twincat.ps1
param(
    [string]$SolutionPath,
    [string]$Configuration = "Release"
)

# Visual Studio/TwinCAT 환경 로드
$vsPath = "C:\Program Files\Microsoft Visual Studio\2022\Professional"
Import-Module "$vsPath\Common7\Tools\Microsoft.VisualStudio.DevShell.dll"
Enter-VsDevShell -VsInstallPath $vsPath

# 빌드 실행
Write-Host "빌드 시작: $SolutionPath"
$buildResult = msbuild $SolutionPath /p:Configuration=$Configuration /t:Build

if ($LASTEXITCODE -eq 0) {
    Write-Host "빌드 성공"
    # Teams/이메일 알림
    Send-BuildNotification -Status "Success" -Project $SolutionPath
} else {
    Write-Host "빌드 실패"
    Send-BuildNotification -Status "Failed" -Project $SolutionPath
    exit 1
}
```

**예상 비용**: ₩0-3M (기존 PC 활용 시 ₩0)

### 2.2 단위 테스트 도입 (TcUnit)

**TcUnit**: TwinCAT용 오픈소스 단위 테스트 프레임워크

**도입 전략**:
```yaml
단계 1 (1개월):
  - 신규 Function Block만 테스트 작성
  - 기존 코드는 건드리지 않음
  - 목표: 테스트 작성 습관화

단계 2 (2-3개월):
  - 핵심 FB (자주 변경되는) 테스트 추가
  - 커버리지 목표: 신규 코드 50%
  - 리팩토링과 병행

단계 3 (6개월+):
  - 주요 FB 모두 테스트
  - 커버리지 목표: 전체 30%
  - 회귀 테스트로 활용
```

**TcUnit 테스트 예시**:
```iecst
// 테스트 대상: FB_MotorControl
FUNCTION_BLOCK FB_MotorControl_Test EXTENDS TcUnit.FB_TestSuite
VAR
    fbMotor : FB_MotorControl;
END_VAR

// 테스트 1: 정상 속도 제어
METHOD Test_NormalSpeedControl
    // Given: 모터 비활성 상태
    fbMotor.Enable := FALSE;
    fbMotor.TargetSpeed := 0;

    // When: 모터 활성화 및 목표 속도 설정
    fbMotor.Enable := TRUE;
    fbMotor.TargetSpeed := 100.0;
    fbMotor();  // 실행

    // Then: 속도 출력 확인
    AssertTrue(
        Condition := fbMotor.IsRunning,
        Message := '모터가 실행 상태여야 함'
    );
END_METHOD

// 테스트 2: 비상 정지
METHOD Test_EmergencyStop
    // Given: 모터 운전 중
    fbMotor.Enable := TRUE;
    fbMotor.TargetSpeed := 100.0;
    fbMotor();

    // When: 비상 정지
    fbMotor.EmergencyStop := TRUE;
    fbMotor();

    // Then: 즉시 정지
    AssertTrue(
        Condition := fbMotor.CurrentSpeed = 0,
        Message := '비상 정지 시 속도 0이어야 함'
    );
END_METHOD
```

**예상 비용**: ₩0 (TcUnit 무료) + 개발 시간

### 2.3 기본 모니터링 대시보드

**목표**: 주요 메트릭 시각화

**구성**:
```yaml
옵션 1 (무료):
  - Excel/Google Sheets 기반 대시보드
  - 수동 데이터 입력 (주 1회)
  - 차트 자동 생성

옵션 2 (저비용):
  - Power BI (무료 버전)
  - 반자동 데이터 수집
  - 인터랙티브 대시보드

옵션 3 (자동화):
  - Grafana + Prometheus (무료)
  - 서버 필요 (월 ₩100,000 클라우드)
  - 실시간 모니터링
```

**핵심 메트릭**:
```yaml
프로세스 메트릭:
  - 월간 SCR 접수 건수
  - 평균 리드 타임 (SCR → 배포)
  - 단계별 소요 시간
  - Fast Track 사용률

품질 메트릭:
  - 빌드 성공률
  - 테스트 커버리지 (신규 코드)
  - 프로덕션 버그 수 (배포 후 30일)
  - 긴급 핫픽스 빈도

팀 메트릭:
  - 코드 리뷰 응답 시간
  - 설비 검증 대기 시간
  - 재작업 비율
```

**예상 비용**: ₩0-1M

### 2.4 간소화된 스테이징 환경

**TwinCAT 특수성**: 실제 설비 100% 동일 불가능

**현실적 접근**:
```yaml
레벨 1 - 소프트웨어 시뮬레이션:
  비용: ₩0
  구성: 개발 PC에서 TwinCAT 시뮬레이션 모드
  한계: I/O 동작 검증 불가
  용도: 로직 테스트, 단위 테스트

레벨 2 - 테스트 벤치:
  비용: ₩3-10M
  구성: 소형 설비 + 실제 I/O
  한계: 전체 공정 검증 불가
  용도: I/O 통합 테스트, 타이밍 검증

레벨 3 - 미러 설비:
  비용: ₩50M+
  구성: 프로덕션과 동일한 설비
  한계: 비용, 공간
  용도: 완전한 검증 (대규모 변경)
```

**권장**: 레벨 1부터 시작, 효과 증명 후 레벨 2 검토

---

## Phase 3: 고급 자동화 (₩15-50M, 6-12개월)

### 3.1 완전 CI/CD 파이프라인

**Phase 2 안정화 후 검토**

```yaml
전체 파이프라인:
  1. 코드 커밋
  2. 자동 빌드
  3. 단위 테스트 실행
  4. 정적 분석 (선택)
  5. 아티팩트 생성
  6. 스테이징 배포 (자동)
  7. 통합 테스트 (자동)
  8. 프로덕션 배포 (수동 승인)

필요 인프라:
  - 빌드 서버 (전용) ₩5M
  - 스테이징 서버 ₩3M
  - 모니터링 서버 ₩2M
  - 클라우드 운영비 월 ₩500K

필요 인력:
  - DevOps 역할 (기존 인력 50% 시간 할당)
  - 또는 외부 컨설팅 (초기 3개월)
```

### 3.2 카나리/점진적 배포 (PLC 특화)

**일반 카나리 배포 불가능 이유**:
- PLC는 실시간 제어 → 런타임 중 교체 불가
- 동일 설비에서 두 버전 동시 실행 불가

**PLC 특화 점진적 배포**:
```yaml
설비 그룹 배포 전략:
  그룹 A (10%): 테스트 설비 또는 덜 중요한 라인
  그룹 B (30%): 중요도 중간
  그룹 C (60%): 핵심 프로덕션 라인

배포 일정:
  Day 1: 그룹 A 배포
  Day 2-3: 그룹 A 모니터링 (24-48시간)
  Day 4: 그룹 B 배포 (문제 없으면)
  Day 5-7: 그룹 B 모니터링
  Day 8: 그룹 C 배포 (문제 없으면)

롤백 기준:
  - 사이클 타임 10% 이상 증가
  - 새로운 알람 발생
  - 생산량 5% 이상 감소
  - 운영자 불만 접수
```

### 3.3 자동 롤백 시스템

```yaml
롤백 트리거:
  자동:
    - 빌드 실패 → 이전 빌드 유지
    - 스테이징 테스트 실패 → 배포 중단

  반자동:
    - 프로덕션 배포 후 이상 감지 → 알림 + 승인 요청
    - 승인 시 자동 롤백 실행

롤백 프로세스:
  1. 현재 상태 백업 (자동)
  2. 이전 버전 배포
  3. 동작 확인 (자동 테스트)
  4. 알림 발송

필요 시간:
  - 자동 롤백: 5-10분 (다운타임 포함)
  - 수동 롤백: 30-60분 (현재)
```

---

## 4. 비용-효과 분석

### 4.1 단계별 투자 및 회수

```
┌─────────────────────────────────────────────────────────────────┐
│ Phase 0: 즉시 적용                                               │
├─────────────────────────────────────────────────────────────────┤
│ 투자: ₩0                                                        │
│ 효과: 긴급 대응 50% 단축, WISE 대기 50% 감소                     │
│ 절감: 연 ₩20,000,000 (야근 감소, 대기 시간)                      │
│ 회수: 즉시                                                       │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ Phase 1: 프로세스 개선 (1-2개월)                                 │
├─────────────────────────────────────────────────────────────────┤
│ 투자: ₩0-5,000,000 (교육, 도구 설정)                            │
│ 효과: 코드 품질 향상, 테스트 재현성, 검증 시간 36% 단축          │
│ 절감: 연 ₩30,000,000                                            │
│ 회수: 2개월                                                      │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ Phase 2: 기본 자동화 (3-6개월)                                   │
├─────────────────────────────────────────────────────────────────┤
│ 투자: ₩5,000,000-15,000,000                                     │
│ 효과: 빌드 자동화, 단위 테스트, 모니터링                         │
│ 절감: 연 ₩40,000,000                                            │
│ 회수: 4-6개월                                                    │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ Phase 3: 고급 자동화 (6-12개월) - 선택적                         │
├─────────────────────────────────────────────────────────────────┤
│ 투자: ₩15,000,000-50,000,000                                    │
│ 효과: 완전 CI/CD, 점진적 배포, 자동 롤백                         │
│ 절감: 연 ₩60,000,000+                                           │
│ 회수: 6-12개월                                                   │
└─────────────────────────────────────────────────────────────────┘
```

### 4.2 3년 TCO 비교

```
현재 상태 유지 시 (3년):
  숨겨진 비용: ₩110M × 3 = ₩330,000,000

Phase 0-2 적용 시 (3년):
  투자: ₩15,000,000 (1회)
  연간 운영: ₩3,000,000 × 3 = ₩9,000,000
  숨겨진 비용 감소: ₩110M → ₩40M
  총 비용: ₩15M + ₩9M + (₩40M × 3) = ₩144,000,000

  절감: ₩330M - ₩144M = ₩186,000,000 (56% 절감)

Phase 0-3 적용 시 (3년):
  투자: ₩50,000,000 (1회)
  연간 운영: ₩10,000,000 × 3 = ₩30,000,000
  숨겨진 비용 감소: ₩110M → ₩20M
  총 비용: ₩50M + ₩30M + (₩20M × 3) = ₩140,000,000

  절감: ₩330M - ₩140M = ₩190,000,000 (58% 절감)
```

---

## 5. 의사결정 매트릭스

### 5.1 어떤 Phase부터 시작할지

```
┌────────────────┬──────────────┬──────────────┬──────────────┐
│ 현재 상황       │ 권장 시작점   │ 이유          │ 예상 효과     │
├────────────────┼──────────────┼──────────────┼──────────────┤
│ 예산 거의 없음  │ Phase 0      │ 비용 ₩0      │ 즉시 체감     │
│ 예산 소액 가능  │ Phase 0+1    │ 프로세스 우선 │ 2개월 내 효과 │
│ 예산 중간       │ Phase 0-2    │ 자동화 병행   │ 6개월 내 효과 │
│ 예산 충분       │ Phase 0-3    │ 완전 구축     │ 1년 내 효과   │
├────────────────┼──────────────┼──────────────┼──────────────┤
│ 긴급 대응 잦음  │ Phase 0 우선 │ Fast Track   │ 즉시 체감     │
│ 품질 이슈 잦음  │ Phase 1+2    │ 테스트 강화   │ 3개월 내 효과 │
│ 배포 리스크 높음│ Phase 2+3    │ 자동화+롤백   │ 6개월 내 효과 │
└────────────────┴──────────────┴──────────────┴──────────────┘
```

### 5.2 리스크 평가

```yaml
Phase 0 리스크:
  기술적: 없음 (프로세스 변경만)
  조직적: 낮음 (기존 승인 체계 확장)
  실패 시 영향: 없음 (원복 가능)

Phase 1 리스크:
  기술적: 낮음 (Git, 리뷰는 표준 도구)
  조직적: 중간 (문화 변화 필요)
  실패 시 영향: 낮음 (시간 손실만)

Phase 2 리스크:
  기술적: 중간 (TwinCAT 자동화 경험 필요)
  조직적: 중간 (DevOps 역할 필요)
  실패 시 영향: 중간 (투자 손실 가능)

Phase 3 리스크:
  기술적: 높음 (복잡한 파이프라인)
  조직적: 높음 (전담 인력 또는 컨설팅)
  실패 시 영향: 높음 (큰 투자 손실)
```

---

## 6. 실행 계획

### 6.1 Phase 0 실행 (즉시, 1주)

```yaml
Day 1-2:
  - Fast Track 프로세스 문서 작성
  - 변경 분류 기준 정의
  - 리더십 승인 획득

Day 3-4:
  - 전체 팀 공지 및 교육 (30분 세션)
  - FAQ 정리
  - 템플릿 배포

Day 5-7:
  - 파일럿 적용 (1-2건)
  - 피드백 수집
  - 프로세스 조정

산출물:
  ✓ Fast Track 가이드 문서
  ✓ 변경 분류 매트릭스
  ✓ WISE 비동기 검토 체크리스트
  ✓ 팀 교육 완료
```

### 6.2 Phase 1 실행 (1-2개월)

```yaml
Week 1-2:
  - Git 브랜치 전략 수립
  - 코드 리뷰 프로세스 정의
  - 도구 선정 (Azure DevOps 또는 GitHub)

Week 3-4:
  - 파일럿 프로젝트 선정
  - 팀 교육 (Git, 코드 리뷰)
  - 파일럿 적용

Week 5-6:
  - 테스트 시나리오 템플릿 작성
  - 병렬 검증 프로세스 정의
  - 파일럿 확대

Week 7-8:
  - 피드백 수집 및 조정
  - 전체 프로젝트 적용 계획
  - 효과 측정 및 보고

산출물:
  ✓ Git 브랜치 전략 문서
  ✓ 코드 리뷰 가이드
  ✓ 테스트 시나리오 템플릿
  ✓ 병렬 검증 프로세스
  ✓ 효과 측정 리포트
```

### 6.3 Phase 2 실행 (3-6개월)

```yaml
Month 1:
  - 빌드 서버 환경 구성
  - 자동 빌드 스크립트 개발
  - 알림 시스템 연동

Month 2:
  - TcUnit 도입 교육
  - 파일럿 FB 테스트 작성
  - 빌드 파이프라인에 테스트 통합

Month 3:
  - 모니터링 대시보드 구성
  - 메트릭 수집 자동화
  - 스테이징 환경 검토

Month 4-5:
  - 전체 프로젝트 적용
  - 테스트 커버리지 확대
  - 프로세스 안정화

Month 6:
  - 효과 측정 및 리포트
  - Phase 3 진행 여부 결정
  - 지속적 개선 계획

산출물:
  ✓ 자동 빌드 파이프라인
  ✓ 단위 테스트 프레임워크
  ✓ 모니터링 대시보드
  ✓ Phase 3 진행 결정
```

---

## 7. FAQ

### Q1: 왜 한 번에 다 하지 않나요?

**A**:
- 한 번에 하면 실패 확률 90% 이상
- 팀이 적응할 시간 필요
- 효과를 증명해야 추가 예산 확보 가능
- 작은 성공이 큰 변화의 기반

### Q2: DevOps 전문가 없이 가능한가요?

**A**:
- Phase 0-1: 완전히 가능 (프로세스 변경)
- Phase 2: 기존 인력 + 외부 교육/컨설팅으로 가능
- Phase 3: 전담 인력 또는 외부 파트너 권장

### Q3: TwinCAT은 일반 소프트웨어와 다른데?

**A**:
- 맞습니다. 그래서 일반적인 CI/CD를 그대로 적용하면 안 됩니다.
- 본 문서는 TwinCAT/PLC 특수성을 고려했습니다:
  - 실시간 제어 → 배포 시 다운타임 필수
  - 설비 의존 → 시뮬레이션 한계 인정
  - 라이센스 비용 → 무료/저비용 우선

### Q4: 현재 프로세스가 돌아가는데 왜 바꿔야 하나요?

**A**:
- "돌아간다"와 "효율적이다"는 다릅니다
- 현재 숨겨진 비용: 연 ₩110M (야근, 재작업, 버그)
- 개선 시 절감: 연 ₩50-90M
- 경쟁사는 이미 개선하고 있습니다

### Q5: 실패하면 어떻게 되나요?

**A**:
- Phase 0: 리스크 제로 (원복 가능)
- Phase 1: 최대 손실 ₩5M + 시간
- Phase 2: 최대 손실 ₩15M + 시간
- 각 Phase 완료 후 다음 진행 결정 → 리스크 분산

---

## 8. 결론

### 핵심 메시지

```
1. 지금 시작하세요 - Phase 0는 비용 ₩0
2. 작게 시작하세요 - 파일럿 프로젝트부터
3. 측정하세요 - 감이 아닌 데이터로
4. 점진적으로 확대하세요 - 성공 증명 후
5. 사람이 먼저입니다 - 도구보다 문화
```

### 다음 단계 (권장)

```yaml
이번 주:
  1. 이 문서를 리더십에 공유
  2. Phase 0 승인 요청
  3. Fast Track 프로세스 초안 작성

다음 주:
  4. 전체 팀 공지
  5. 첫 번째 Fast Track 케이스 적용
  6. 피드백 수집

1개월 후:
  7. Phase 0 효과 측정
  8. Phase 1 예산 요청
  9. 파일럿 프로젝트 선정
```

---

## 부록

### A. 참고 자료

- [TcUnit 공식 문서](https://tcunit.org)
- [Azure DevOps 시작 가이드](https://docs.microsoft.com/azure/devops)
- [Git 브랜치 전략](https://nvie.com/posts/a-successful-git-branching-model/)

### B. 용어 정의

| 용어 | 정의 |
|------|------|
| SCR | Software Change Request, 소프트웨어 변경 요청 |
| WISE | 기술 검토 위원회 (사내 명칭) |
| Fast Track | 긴급 변경 간소화 경로 |
| TcUnit | TwinCAT용 단위 테스트 프레임워크 |
| 카나리 배포 | 일부 사용자에게 먼저 배포하는 전략 |

### C. 문서 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| 1.0 | 2025-11-27 | 최초 작성 | - |

---

**문서 끝**
